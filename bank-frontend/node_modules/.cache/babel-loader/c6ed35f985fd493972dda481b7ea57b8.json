{"ast":null,"code":"import _slicedToArray from\"/Users/rhopperlowe/Desktop/School/Spring 2020/Spring2020_workspace/bank/bank-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{Container,MaskedPinInput}from'../../common/StyleClasses';import{useHistory}from'react-router-dom';import AppContext from'../../context/AppContext';import{Card,StyledBody}from'baseui/card';import{FormControl}from'baseui/form-control';import{Input}from'baseui/input';import{Button}from'baseui/button';import{userLogin}from'../../backend/api';import{authLogin}from'../../reducers/authReducer';import ErrorBox from'../../common/ErrorBox';var LoginPage=function LoginPage(){var _useContext=useContext(AppContext),setError=_useContext.setError,appErr=_useContext.appErr,authDis=_useContext.authDis;var history=useHistory();var _useState=useState([\"\",\"\",\"\",\"\"]),_useState2=_slicedToArray(_useState,2),pin=_useState2[0],setPin=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),buttonLoad=_useState6[0],setButtonLoad=_useState6[1];return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(StyledBody,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Login\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();setButtonLoad(true);userLogin(username,parseInt(pin.join(\"\"))).then(function(response){authDis(authLogin(response.user));history.push(\"/\");}).catch(function(error){console.error(error);setError(error.message);setButtonLoad(false);});}},/*#__PURE__*/React.createElement(FormControl,{label:function label(){return\"Username\";}},/*#__PURE__*/React.createElement(Input,{value:username,onChange:function onChange(e){return setUsername(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{label:function label(){return\"Pin\";}},/*#__PURE__*/React.createElement(MaskedPinInput,{type:\"password\",values:pin,onChange:function onChange(_ref){var values=_ref.values;return setPin(values);}})),/*#__PURE__*/React.createElement(ErrorBox,{error:appErr}),/*#__PURE__*/React.createElement(Button,{isLoading:buttonLoad,disabled:!username||!pin},\"Login\")))));};export default LoginPage;","map":{"version":3,"sources":["/Users/rhopperlowe/Desktop/School/Spring 2020/Spring2020_workspace/bank/bank-frontend/src/pages/login/LoginPage.jsx"],"names":["React","useContext","useState","Container","MaskedPinInput","useHistory","AppContext","Card","StyledBody","FormControl","Input","Button","userLogin","authLogin","ErrorBox","LoginPage","setError","appErr","authDis","history","pin","setPin","username","setUsername","buttonLoad","setButtonLoad","e","preventDefault","parseInt","join","then","response","user","push","catch","error","console","message","target","value","values"],"mappings":"4MAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,SAAT,CAAoBC,cAApB,KAA0C,2BAA1C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,aAAjC,CACA,OAASC,WAAT,KAA4B,qBAA5B,CACA,OAASC,KAAT,KAAsB,cAAtB,CACA,OAASC,MAAT,KAAuB,eAAvB,CACA,OAASC,SAAT,KAA0B,mBAA1B,CACA,OAASC,SAAT,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,iBACgBd,UAAU,CAACK,UAAD,CAD1B,CACdU,QADc,aACdA,QADc,CACJC,MADI,aACJA,MADI,CACIC,OADJ,aACIA,OADJ,CAEtB,GAAMC,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CAFsB,cAGAH,QAAQ,CAAC,CAAC,EAAD,CAAK,EAAL,CAAS,EAAT,CAAa,EAAb,CAAD,CAHR,wCAGfkB,GAHe,eAGVC,MAHU,8BAIUnB,QAAQ,CAAC,EAAD,CAJlB,yCAIfoB,QAJe,eAILC,WAJK,8BAKcrB,QAAQ,CAAC,KAAD,CALtB,yCAKfsB,UALe,eAKHC,aALG,eAOtB,mBACE,oBAAC,SAAD,mBACE,oBAAC,IAAD,mBACE,oBAAC,UAAD,mBACE,sCADF,cAEE,4BAAM,QAAQ,CAAE,kBAACC,CAAD,CAAO,CACrBA,CAAC,CAACC,cAAF,GACAF,aAAa,CAAC,IAAD,CAAb,CAEAb,SAAS,CAACU,QAAD,CAAWM,QAAQ,CAACR,GAAG,CAACS,IAAJ,CAAS,EAAT,CAAD,CAAnB,CAAT,CACCC,IADD,CACM,SAACC,QAAD,CAAc,CAClBb,OAAO,CAACL,SAAS,CAACkB,QAAQ,CAACC,IAAV,CAAV,CAAP,CACAb,OAAO,CAACc,IAAR,CAAa,GAAb,EACD,CAJD,EAKCC,KALD,CAKO,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACD,KAAR,CAAcA,KAAd,EACAnB,QAAQ,CAACmB,KAAK,CAACE,OAAP,CAAR,CACAZ,aAAa,CAAC,KAAD,CAAb,CACD,CATD,EAYD,CAhBD,eAiBE,oBAAC,WAAD,EACE,KAAK,CAAE,uBAAM,UAAN,EADT,eAGE,oBAAC,KAAD,EACE,KAAK,CAAEH,QADT,CAEE,QAAQ,CAAE,kBAAAI,CAAC,QAAIH,CAAAA,WAAW,CAACG,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf,EAFb,EAHF,CAjBF,cA0BE,oBAAC,WAAD,EACE,KAAK,CAAE,uBAAM,KAAN,EADT,eAGE,oBAAC,cAAD,EACE,IAAI,CAAC,UADP,CAEE,MAAM,CAAEnB,GAFV,CAGE,QAAQ,CAAE,2BAAGoB,CAAAA,MAAH,MAAGA,MAAH,OAAgBnB,CAAAA,MAAM,CAACmB,MAAD,CAAtB,EAHZ,EAHF,CA1BF,cAmCE,oBAAC,QAAD,EAAU,KAAK,CAAEvB,MAAjB,EAnCF,cAoCE,oBAAC,MAAD,EACE,SAAS,CAAEO,UADb,CAEE,QAAQ,CAAE,CAACF,QAAD,EAAa,CAACF,GAF1B,UApCF,CAFF,CADF,CADF,CADF,CAoDD,CA3DD,CA6DA,cAAeL,CAAAA,SAAf","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Container, MaskedPinInput } from '../../common/StyleClasses';\nimport { useHistory } from 'react-router-dom';\nimport AppContext from '../../context/AppContext';\nimport { Card, StyledBody } from 'baseui/card';\nimport { FormControl } from 'baseui/form-control';\nimport { Input } from 'baseui/input';\nimport { Button } from 'baseui/button';\nimport { userLogin } from '../../backend/api';\nimport { authLogin } from '../../reducers/authReducer';\nimport ErrorBox from '../../common/ErrorBox';\n\nconst LoginPage = () => {\n  const { setError, appErr, authDis } = useContext(AppContext);\n  const history = useHistory();\n  const [pin, setPin] = useState([\"\", \"\", \"\", \"\"]);\n  const [username, setUsername] = useState('');\n  const [buttonLoad, setButtonLoad] = useState(false);\n\n  return (\n    <Container>\n      <Card>\n        <StyledBody>\n          <h2>Login</h2>\n          <form onSubmit={(e) => {\n            e.preventDefault();\n            setButtonLoad(true);\n\n            userLogin(username, parseInt(pin.join(\"\")))\n            .then((response) => {\n              authDis(authLogin(response.user));\n              history.push(\"/\")\n            })\n            .catch(error => {\n              console.error(error);\n              setError(error.message);\n              setButtonLoad(false);\n            });\n\n            \n          }}>\n            <FormControl\n              label={() => \"Username\"}\n            >\n              <Input \n                value={username}\n                onChange={e => setUsername(e.target.value)}\n              />\n            </FormControl>\n\n            <FormControl\n              label={() => \"Pin\"}\n            >\n              <MaskedPinInput\n                type=\"password\"\n                values={pin}\n                onChange={({ values }) => setPin(values)}\n              />\n            </FormControl>\n            <ErrorBox error={appErr} />\n            <Button\n              isLoading={buttonLoad}\n              disabled={!username || !pin}\n            >\n              Login\n            </Button>\n          </form>\n        </StyledBody>\n      </Card>\n    </Container>\n  );\n};\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}