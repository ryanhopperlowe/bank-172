{"ast":null,"code":"import Axios from 'axios';\nimport { AppFactory } from './app';\nconst appRef = new AppFactory();\nconst baseURL = \"/api\";\n\nconst instance = () => Axios.create({\n  baseURL\n});\n\nexport const initApp = () => new Promise((resolve, reject) => {\n  instance().get(\"/\").then(response => {\n    console.log(response);\n    let links = response.data._links;\n\n    for (let name in links) {\n      appRef.setLink(name, links[name].href.replace('{?page,size,sort}', ''));\n    }\n\n    console.log(appRef);\n    resolve({\n      success: true\n    });\n  }).catch(error => {\n    console.error(error);\n    reject(error);\n  });\n});\nexport const getAllCustomers = endpoint => new Promise((resolve, reject) => {\n  instance().get(`/customers/all`).then(response => {\n    console.log(response.data);\n    resolve({\n      customers: response.data\n    });\n  }).catch(error => {\n    console.error(error);\n    reject(error);\n  });\n});\nexport const userLogin = (username, pin) => new Promise((resolve, reject) => {\n  instance().post('/customers/login', {\n    username,\n    pin\n  }).then(response => {\n    console.log(response);\n    let user = response.data;\n    resolve({\n      user\n    });\n  }).catch(error => {\n    console.error(error);\n    console.log(error.response);\n    reject(new Error(error.response.data.message));\n  });\n});\nexport const userLogout = user => new Promise((resolve, reject) => {\n  instance().get(`/customers/logout/${user.id}`).then(response => {\n    console.log(response);\n    resolve({\n      success: response.data\n    });\n  }).catch(error => {\n    console.error(error);\n    reject(error);\n  });\n});\nexport const userSignup = (username, pin) => new Promise((resolve, reject) => {\n  instance().post(`/customers/create`, {\n    username,\n    pin,\n    role: 0\n  }).then(response => {\n    resolve({\n      user: response.data\n    });\n  }).catch(error => {\n    console.log(error.toJSON());\n    console.log(error.response);\n    reject(new Error(error.response.data.message));\n  });\n});\nexport const getUserAccounts = user => new Promise((resolve, reject) => {\n  instance().get(`/accounts/for/${user.id}`).then(response => {\n    console.log(response);\n    resolve({\n      accounts: response.data\n    });\n  }).catch(error => {\n    console.log(error.response.data);\n    reject(new Error(error.response.data.message));\n  });\n});\n/**\n * Initiate Deposit request with server\n * @param {number} accountNumber Deposit target account\n * @param {number} amount amount of money to deposit\n * @returns {Promise<any>}\n */\n\nexport const accountDeposit = (accountNumber, amount) => new Promise((resolve, reject) => {\n  instance().put(`/accounts/deposit/${accountNumber}`, {\n    amount\n  }).then(response => {\n    console.log(\"Deposit Response: \", response);\n    resolve({\n      account: response.data\n    });\n  }).catch(error => {\n    console.error(\"Deposit Error: \", error.response.data);\n    reject(new Error(error.response.data.message));\n  });\n});\n/**\n * Initiate a withdraw request with server\n * @param {number} accountNumber Withdraw target\n * @param {number} amount amount of money to withdraw\n * @param {User} user User making the request\n * @returns {Promise<any>}\n */\n\nexport const accountWithdraw = (accountNumber, amount, user) => new Promise((resolve, reject) => {\n  instance().put(`/accounts/withdraw/${accountNumber}`, {\n    amount,\n    userId: user.id\n  }).then(response => {\n    console.log(\"Withdraw Response: \", response);\n    resolve({\n      account: response.data\n    });\n  }).catch(error => {\n    console.error(\"Withdraw Error: \", error.response.data);\n    reject(new Error(error.response.data.message));\n  });\n});\n/**\n * Initiate transfer between accounts\n * @param {Number} sourceNumber Source Account Number\n * @param {Number} destNumber Destination Account Number\n * @param {number} amount Amount in $ to be transferred from source to destination\n * @param {User} user User making the transfer request\n * @returns {Promise<any>}\n */\n\nexport const accountTransfer = (source, target, amount, user) => new Promise((resolve, reject) => {});","map":{"version":3,"sources":["/Users/rhopperlowe/Desktop/School/Spring 2020/Spring2020_workspace/bank/bank-frontend/src/backend/api.js"],"names":["Axios","AppFactory","appRef","baseURL","instance","create","initApp","Promise","resolve","reject","get","then","response","console","log","links","data","_links","name","setLink","href","replace","success","catch","error","getAllCustomers","endpoint","customers","userLogin","username","pin","post","user","Error","message","userLogout","id","userSignup","role","toJSON","getUserAccounts","accounts","accountDeposit","accountNumber","amount","put","account","accountWithdraw","userId","accountTransfer","source","target"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport { AppFactory } from './app';\n\nconst appRef = new AppFactory();\n\nconst baseURL = \"/api\";\n\nconst instance = () => Axios.create({\n  baseURL\n});\n\nexport const initApp = () => new Promise((resolve, reject) => {\n  instance().get(\"/\")\n  .then(response => {\n    console.log(response);\n    let links = response.data._links;\n    \n    for (let name in links) {\n      appRef.setLink(name, links[name].href.replace('{?page,size,sort}', ''))\n    }\n    console.log(appRef);\n\n    resolve({\n      success: true\n    });\n  })\n  .catch(error => {\n    console.error(error);\n    reject(error);\n  });\n});\n\n\nexport const getAllCustomers = (endpoint) => new Promise((resolve, reject) => {\n  instance().get(`/customers/all`)\n  .then(response => {\n    console.log(response.data);\n    resolve({\n      customers: response.data\n    });\n  })\n  .catch(error => {\n    console.error(error);\n    reject(error);\n  })\n});\n\nexport const userLogin = (username, pin) => new Promise((resolve, reject) => {\n  instance().post('/customers/login', { username, pin })\n  .then(response => {\n    console.log(response);\n    let user = response.data;\n    resolve({\n      user\n    });\n  })\n  .catch(error => {\n    console.error(error);\n    console.log(error.response);\n    \n    reject(new Error(error.response.data.message));\n  });\n})\n\n\nexport const userLogout = (user) => new Promise((resolve, reject) => {\n\n    instance().get(`/customers/logout/${user.id}`)\n    .then(response => {\n      console.log(response);\n      resolve({\n        success: response.data\n      });\n    })\n    .catch(error => {\n      console.error(error);\n      reject(error);\n    });\n\n});\n\nexport const userSignup = (username, pin) => new Promise((resolve, reject) => {\n  instance().post(`/customers/create`, { username, pin, role: 0})\n  .then(response => {\n    resolve({\n      user: response.data\n    });\n  })\n  .catch((error) => {\n    console.log(error.toJSON());\n    console.log(error.response);\n      \n    reject(new Error(error.response.data.message));\n  });\n});\n\n\nexport const getUserAccounts = (user) => new Promise((resolve, reject) => {\n\n  instance().get(`/accounts/for/${user.id}`)\n  .then(response => {\n    console.log(response);\n\n    resolve({\n      accounts: response.data\n    });\n  })\n  .catch(error => {\n    console.log(error.response.data);\n    reject(new Error(error.response.data.message));\n  });\n\n});\n\n\n/**\n * Initiate Deposit request with server\n * @param {number} accountNumber Deposit target account\n * @param {number} amount amount of money to deposit\n * @returns {Promise<any>}\n */\nexport const accountDeposit = (accountNumber, amount) => new Promise((resolve, reject) => {\n  instance().put(`/accounts/deposit/${accountNumber}`, { amount })\n  .then(response => {\n    console.log(\"Deposit Response: \", response);\n    \n    resolve({\n      account: response.data\n    })\n  })\n  .catch(error => {\n    console.error(\"Deposit Error: \", error.response.data);\n    reject(new Error(error.response.data.message));\n  })\n});\n\n\n/**\n * Initiate a withdraw request with server\n * @param {number} accountNumber Withdraw target\n * @param {number} amount amount of money to withdraw\n * @param {User} user User making the request\n * @returns {Promise<any>}\n */\nexport const accountWithdraw = (accountNumber, amount, user) => new Promise((resolve, reject) => {\n  instance().put(`/accounts/withdraw/${accountNumber}`, { amount, userId: user.id })\n  .then(response => {\n    console.log(\"Withdraw Response: \", response);\n    \n    resolve({\n      account: response.data\n    })\n  })\n  .catch(error => {\n    console.error(\"Withdraw Error: \", error.response.data);\n    reject(new Error(error.response.data.message));\n  })\n});\n\n/**\n * Initiate transfer between accounts\n * @param {Number} sourceNumber Source Account Number\n * @param {Number} destNumber Destination Account Number\n * @param {number} amount Amount in $ to be transferred from source to destination\n * @param {User} user User making the transfer request\n * @returns {Promise<any>}\n */\nexport const accountTransfer = (source, target, amount, user) => new Promise((resolve, reject) => {\n\n});"]},"metadata":{},"sourceType":"module"}