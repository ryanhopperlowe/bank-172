{"ast":null,"code":"var _jsxFileName = \"/Users/rhopperlowe/Desktop/School/Spring 2020/Spring2020_workspace/bank/bank-frontend/src/pages/user-accounts/OpenAccount.jsx\";\nimport React, { useContext, useState } from 'react';\nimport { Container } from '../../common/StyleClasses';\nimport { FormControl } from 'baseui/form-control';\nimport AppContext from '../../context/AppContext';\nimport { Checkbox } from 'baseui/checkbox';\nimport { Input } from 'baseui/input';\nimport { RadioGroup, Radio, ALIGN } from 'baseui/radio';\nimport { Button } from 'baseui/button';\nimport { accountOpen } from '../../backend/api';\nimport { useHistory } from 'react-router-dom';\n\nconst OpenAccount = () => {\n  const {\n    auth,\n    app,\n    appErr,\n    setError\n  } = useContext(AppContext);\n  const history = useHistory();\n  const [ownerId, setOwnerId] = useState(auth.isLoggedIn ? auth.currentUser.id : undefined);\n  const [type, setType] = useState(\"Checking\");\n  const [amount, setAmount] = useState(0);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, \"Open a new account\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n\n      if (amount < 0) {\n        setError(\"Initial deposit cannot be negative\");\n        return false;\n      }\n\n      setError(\"\");\n      accountOpen({\n        ownerId,\n        type,\n        amount\n      }).then(({\n        account\n      }) => {\n        console.log(\"Successfully opened account: \", account);\n        history.push('/');\n      }).catch(error => {\n        setError(\"\");\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    label: () => \"Who is this account for?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    value: ownerId,\n    onChange: e => setOwnerId(e.target.value),\n    startEnhancer: () => \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), auth.isLoggedIn && /*#__PURE__*/React.createElement(Checkbox, {\n    checked: ownerId === auth.currentUser.id,\n    onChange: e => {\n      setOwnerId(e.target.checked ? auth.currentUser.id : 0);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, \"This account is for me\"))), /*#__PURE__*/React.createElement(FormControl, {\n    label: () => \"What type of account is this?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    value: type,\n    onChange: e => setType(e.target.value),\n    name: \"type\",\n    align: ALIGN.vertical,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Radio, {\n    value: \"Checking\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Checking\"), /*#__PURE__*/React.createElement(Radio, {\n    value: \"Savings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Savings\"), /*#__PURE__*/React.createElement(Radio, {\n    value: \"Brokerage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Brokerage\"))), /*#__PURE__*/React.createElement(FormControl, {\n    label: () => \"Would you like to make an initial deposit?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    startEnhancer: () => \"$\",\n    value: amount,\n    onChange: e => setAmount(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Open Account\")));\n};\n\nexport default OpenAccount;","map":{"version":3,"sources":["/Users/rhopperlowe/Desktop/School/Spring 2020/Spring2020_workspace/bank/bank-frontend/src/pages/user-accounts/OpenAccount.jsx"],"names":["React","useContext","useState","Container","FormControl","AppContext","Checkbox","Input","RadioGroup","Radio","ALIGN","Button","accountOpen","useHistory","OpenAccount","auth","app","appErr","setError","history","ownerId","setOwnerId","isLoggedIn","currentUser","id","undefined","type","setType","amount","setAmount","e","preventDefault","then","account","console","log","push","catch","error","target","value","checked","vertical"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Container } from '../../common/StyleClasses';\nimport { FormControl } from 'baseui/form-control';\nimport AppContext from '../../context/AppContext';\nimport { Checkbox } from 'baseui/checkbox';\nimport { Input } from 'baseui/input';\nimport { RadioGroup, Radio, ALIGN } from 'baseui/radio';\nimport { Button } from 'baseui/button';\nimport { accountOpen } from '../../backend/api';\nimport { useHistory } from 'react-router-dom';\n\nconst OpenAccount = () => {\n\n  const { auth, app, appErr, setError } = useContext(AppContext);\n\n  const history = useHistory();\n\n  const [ownerId, setOwnerId] = useState(auth.isLoggedIn ? auth.currentUser.id : undefined);\n  const [type, setType] = useState(\"Checking\");\n  const [amount, setAmount] = useState(0);\n\n\n  return (\n    <Container>\n      <h2>Open a new account</h2>\n      <form onSubmit={(e) => {\n        e.preventDefault();\n\n        if (amount < 0) {\n          setError(\"Initial deposit cannot be negative\");\n          return false;\n        }\n\n        setError(\"\");\n\n        accountOpen({ ownerId, type, amount })\n        .then(({ account }) => {\n          console.log(\"Successfully opened account: \", account);\n          history.push('/');\n        })\n        .catch(error => {\n          setError(\"\")\n        })\n      }}>\n        <FormControl label={() => \"Who is this account for?\"}>\n          <React.Fragment>\n            <Input \n              type=\"number\"\n              value={ownerId}\n              onChange={(e) => setOwnerId(e.target.value)}\n              startEnhancer={() => \"#\"}\n            />\n            {auth.isLoggedIn && (\n              <Checkbox\n                checked={ownerId === auth.currentUser.id}\n                onChange={(e) => {\n                  setOwnerId(e.target.checked ? auth.currentUser.id : 0)\n                }}\n              >\n                This account is for me\n              </Checkbox>\n            )}\n          </React.Fragment>\n        </FormControl>\n\n        <FormControl label={() => \"What type of account is this?\"}>\n          <RadioGroup\n            value={type}\n            onChange={(e) => setType(e.target.value)}\n            name=\"type\"\n            align={ALIGN.vertical}\n          >\n            <Radio value=\"Checking\">Checking</Radio>\n            <Radio value=\"Savings\">Savings</Radio>\n            <Radio value=\"Brokerage\">Brokerage</Radio>\n          </RadioGroup>\n        </FormControl>\n\n        <FormControl label={() => \"Would you like to make an initial deposit?\"}>\n          <Input\n            type=\"number\"\n            startEnhancer={() => \"$\"}\n            value={amount}\n            onChange={e => setAmount(e.target.value)}\n          />\n        </FormControl>\n\n        <Button>Open Account</Button>\n      </form>\n    </Container>\n  );\n};\n\nexport default OpenAccount;"]},"metadata":{},"sourceType":"module"}